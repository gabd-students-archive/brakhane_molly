---
title: "HW 09: Strings and Things
author: "Molly Brakhane"
date: "`r format(Sys.time(), '%d %B %Y')`"
output: html_notebook
editor_options: 
  chunk_output_type: inline
---

# R4ds Practice Chap 14
```{r}
library(tidyverse)
library(stringr)
install.packages("htmlwidgets")
library(htmlwidgets)
```
```{r}
## 14.2.1
# "Strings have quotation marks, if you want a single quote you use \, which means you have to \\ for an actual slash.
#Escape a string by hitting 'Esc'
# To see the contents of the string.
x <- c("\"", "\\")
writeLines(x)

# Count content of strings
str_length(c("a", "R for data science", NA))
```
```{r}
## 14.2.2
# To combine strings and specify how to separate them.
str_c("x", "y", sep = ",")

# To replace missing values, str_c is a vector.
x <- c("abc", NA)
str_c("|-", x, "-|")
str_c("|-", str_replace_na(x), "-|")

#To collapse a vector of strings to a single vector
str_c(c("x", "y", "z"), collapse = ", ")

# Example
name <- "Molly"
time_of_day <- "morning"
birthday <- FALSE
str_c(
  "Good ", time_of_day, " ", name,
  if(birthday) " and HAPPY BIRTHDAY",
  "."
)
```
```{r}
## 14.2.3
# Subsetting strings - this title sucks but basically its only gonna read the first three letters. 
x <- c("Apple", "Banana", "Pear")
str_sub(x, 1, 3)
str_sub(x, -3, -1)

# Modifying strings - tbh still don't understand
str_sub(x, 1, 1)
x
str_sub(x, 1, 1) <- str_to_lower(str_sub(x, 1, 1))
x
```
```{r}
## 14.2.4
# To use str_to_lower, you might have to change the locale to change the rules. See the Turkey I has a funky dot.
str_to_upper(c("i", "l"))
str_to_upper(c("i", "l"), locale = "tr")

# Sorting by alphabet also depends on locale
x <- c("apple", "banana",  "eggplant")
str_sort(x, locale = "en") #English
str_sort(x, locale = "haw") #Hawaiian
```
```{r}
## 14.3.1
# Finding patterns within strings
x <- c("apple", "banana", "pear")
?str_view
str_view(x, "an")
str_view(x, ".a.")

#To create the expression \ to specify identifiying '.', you need to use \\
dot <- "\\."
writeLines(dot)
str_view(c("abc", "a.c", "bef"), "a\\.c")

# To specify a literal '\' you need to use 4 backslashes
x <- "a\\b"
writeLines(x)
str_view(x, "\\\\")
```
```{r}
## 14.3.2
# Anchor the expressgion at the end or beginning of the string using ^ or $.
x <- c("apple", "banana", "pear")
str_view(x, "^a")
str_view(x, "a$")

# To anchor to whole strings
x <- c("apple pie", "apple", "apple cake")
str_view(x, "apple")
str_view(x, "^apple$")
```
```{r}
## 14.3.3
# Special Characters that match more than one character
### \d: any digit
### \s: white space
### [abc]: matches a, b, or c
### [^abc]: matches anything BUT a, b, c

# Use these characters to avoid backslash escapes
str_view(c("abc", "a.c", "a*c", "a c"), "a[.]c")
str_view(c("abc", "a.c", "a*c", "a c"), ".[*]c")
str_view(c("abc", "a.c", "a*c", "a c"), "a[ ]")

# Use alternation to pick between one or more alternative patterns with |
str_view(c("grey", "gray"), "gr(e|a)y")
```
```{r}
## 14.3.4
# Controlling the number of matches
### ?: 0 or 1
### +: 1 or more
### *: 0 or more
x <- "1888 is the longest year in Roman numerals: MDCCCLXXXVIII"
str_view(x, "CC?")
str_view(x, "CC+")
str_view(x, "C[LX]+")
```






















